(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{227:function(e,t,i){},228:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),c=i(23),a=i.n(c),r=i(8),o=i(12),l=Object(o.a)(),d=i(32),u=i(6),m=i.p+"static/media/logo.e8c9e71e.svg",j=i.p+"static/media/icon-moon.7101c57d.svg",b=i.p+"static/media/icon-sun.f3da52d1.svg",p=i(0),v=function(){var e=localStorage.getItem("theme"),t=Object(s.useState)(null),i=Object(u.a)(t,2),n=i[0],c=i[1];Object(s.useEffect)((function(){"theme-dark"===localStorage.getItem("theme")?c(!1):"theme-light"===localStorage.getItem("theme")&&c(!0)}),[e]);var a=function(e){"theme-dark"===localStorage.getItem("theme")?Object(d.setTheme)("theme-light"):Object(d.setTheme)("theme-dark"),e.target.classList.add("side-bar__moon--transition"),setTimeout((function(){c(!n)}),250),setTimeout((function(){e.target.classList.remove("side-bar__moon--transition")}),500)};return Object(p.jsxs)("div",{className:"side-bar",children:[Object(p.jsx)("div",{className:"side-bar__icon-bg",children:Object(p.jsx)("img",{className:"side-bar__logo",src:m,alt:"logo"})}),Object(p.jsx)("div",{className:"side-bar__moon-container",children:n?Object(p.jsx)("img",{onClick:a,className:"side-bar__moon",src:j,alt:"moon"}):Object(p.jsx)("img",{onClick:a,className:"side-bar__moon",src:b,alt:"moon"})}),Object(p.jsx)("img",{className:"side-bar__portrait",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYGBgYHBgcICAcKCwoLCg8ODAwODxYQERAREBYiFRkVFRkVIh4kHhweJB42KiYmKjY+NDI0PkxERExfWl98fKcBBgYGBgcGBwgIBwoLCgsKDw4MDA4PFhAREBEQFiIVGRUVGRUiHiQeHB4kHjYqJiYqNj40MjQ+TERETF9aX3x8p//CABEIAFAAUAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAAAAgMHCAEEBQb/2gAIAQEAAAAAsvkyGTAk1IO8pJ8tBhGYhrh6vnW47oNlcPGu9+fPSA2efrf0OPbDaBkIkqptX02jLJiM6WIkCw8o7yTl1Di5Ww9tWam+LKq8VkEPyNdCifkVIU2jYkr/xAAZAQACAwEAAAAAAAAAAAAAAAACAwABBAX/2gAIAQIQAAAAblTvhcgesRZ83QhRDSoKpn//xAAaAQABBQEAAAAAAAAAAAAAAAACAAEDBAUG/9oACAEDEAAAAKWpbwkHVFzMcd69ioFKDJ3cP//EADUQAAEDAwIEBAMFCQAAAAAAAAECAwQABREGEgchMUEQE1FxIzJhFCAigaEkMENSYnORsbL/2gAIAQEAAT8A/eTp8aBEdlSF7W2xkn/QFXriPcH3HExlllvshPzfmaY13dobu5qepPqCdwNaZ4msznUMT0NpJwA810yf5k/f4s3dDEOFCC8KUovL9hyFIdm3WZ9mhgD1UegFRNFQXE4euRW73DbiautkXYyJUO5Jd8oBa2s/FQM/MMVpe5quunrXOUQVPR0lR9VDkfvcb25qrnaW2W8+ewUJP1SasVuet1sC2GQ6+vkSe1RLROnX6O624UNJKC6Rke4qXo2UxdX2ypZZfcKvPIBBZUMFs9wa0fZzZNM2m3KcC1MMAKUOhKiVeOazWa1LZGL1bVMLbSpxCgtonsodsnsakOXiwXh+NObLe7C8HBGFHqCKmasb+xurYkojObCGso3FSu5AqxaucDq0Trm+4XEpShK8FvJ9qgn9iif2G/8AkVnwzWazWa4vWVcuwi6R0ZfhfP8AVldIuKFv71gZCAlKlDcE889KTdhsIW+F5UMI8tKR16jFQZMeTDjPx3EOMuNJLa0HKSMdq3Vms1nw51xafksaOkOMTksEPIyg/wAcd26ccUtRJAHtSeorSOvNQ6cfZTHlLciJXlcRZ+GoVY+MmnZ6g3NYehLPc/ERUK526e0HIcxh9J7oWFeG2sVd71bLLDVKnyUMtjpnqo+iR3NcR9cPaqmseW2WokbcGW+53dVqojn0oJ6ZpKsdKRILfTmfWmZslpYcQ6pKwchQPMVwo17NvK3bTcnvNfbb3sOn5lpHVKvDiLxERphCIcNKVz3UZ59GkHuau1/ud3kqfnTHX3PVZzj6CiaV1A8CcAn0oHn+VJVXCt5aNcWbb3cWD7FB8NbXc3PU13lbypCpSw2f6EnaK3/qa71nK/BR/CaTkmh+grhQnOubR7un/DZr/8QAIBEAAgICAgIDAAAAAAAAAAAAAQIAEQMEEDEhQRMgcf/aAAgBAgEBPwCbO3jwUDZY+hMO/jyEBlKEn6Z0HzO7Vd+IgtqJBFRRSj85za6vZ9zHrhDK5PUqKZ4PU6swknle5//EACARAAICAgEFAQAAAAAAAAAAAAECABEDBAUQICExQWH/2gAIAQMBAT8AnH8Vs71lKVB7Y+pt8Ds4AWTIuVQPNe+zU2GGpgwYiQtEu36fkZnVbUENMpByuQPp6XNXcfFSfLmTfLi7A8QmyZfQWDLldtQz/9k=",alt:""})]})},h=i(22),O=i.p+"static/media/illustration-empty.e3122ec2.svg",f=function(e){var t=e.heading,i=e.message;return Object(p.jsxs)("div",{className:"empty-invoices",children:[Object(p.jsx)("img",{className:"empty-invoices__image",src:O,alt:"invoice-empty"}),Object(p.jsx)("h2",{className:"empty-invoices__heading",children:t}),Object(p.jsx)("p",{className:"empty-invoices__body",children:i})]})},x=i.p+"static/media/icon-arrow-down.a6ed7bff.svg",g=i.p+"static/media/icon-plus.278c048a.svg",_=Object(s.createContext)(),A=Object(s.createContext)(),N=Object(s.createContext)(),y=function(){var e=Object(s.useContext)(_),t=Object(s.useContext)(A),i=Object(s.useContext)(N),n=e.errorEmptyClear,c=e.errorEmptyFiltered,a=e.errorEmptyNewInvoice,r=t.clearFilter,o=t.filterStatus,l=t.invoices,d=t.filtered,m=t.setNew,j=i.slideOpen,b=Object(s.useState)(!1),v=Object(u.a)(b,2),h=v[0],O=v[1],f=Object(s.useState)(!1),y=Object(u.a)(f,2),E=y[0],C=y[1],S=Object(s.useState)(window.innerWidth>600),w=Object(u.a)(S,2),I=w[0],k=w[1],T=function(){k(window.innerWidth>600)};Object(s.useEffect)((function(){return window.addEventListener("resize",T),function(){return window.removeEventListener("resize",T)}}),[]),Object(s.useEffect)((function(){d.length?n():h||0!==l.length?h?c():n():a()}),[d]);return Object(p.jsxs)("div",{className:"invoice-status-bar",children:[Object(p.jsxs)("div",{className:"invoice-status-bar__invoices",children:[Object(p.jsx)("h1",{className:"invoice-status-bar__invoices-heading",children:"Invoices"}),Object(p.jsx)("p",{children:0===l.length?"No invoices":I?"There are ".concat(l.length," total invoices"):"".concat(l.length," invoices")})]}),Object(p.jsxs)("div",{onClick:function(){C(!E)},className:"invoice-status-bar__filter",children:["Filter ",I?"by status":"",Object(p.jsx)("img",{className:E?"arrow-down-icon arrow-down-icon--rotate":"arrow-down-icon",src:x,alt:""}),Object(p.jsx)("div",{onClick:function(e){!function(e){e.stopPropagation()}(e)},className:E?"invoice-status-bar__filter-menu invoice-status-bar__filter-menu--open":"invoice-status-bar__filter-menu",children:Object(p.jsxs)("form",{onChange:function(e){"clear"===e.target.value?(r(),O(!1)):function(e){o(e.target.value),O(!0)}(e),C(!E)},children:[Object(p.jsxs)("div",{className:"invoice-status-bar__form-group",children:[Object(p.jsx)("input",{type:"radio",name:"status",value:"draft"}),Object(p.jsx)("label",{htmlFor:"draft",children:"Draft"})]}),Object(p.jsxs)("div",{className:"invoice-status-bar__form-group",children:[Object(p.jsx)("input",{type:"radio",name:"status",value:"pending"}),Object(p.jsx)("label",{className:"form__radio-label",htmlFor:"pending",children:"Pending"})]}),Object(p.jsxs)("div",{className:"invoice-status-bar__form-group",children:[Object(p.jsx)("input",{type:"radio",name:"status",value:"paid"}),Object(p.jsx)("label",{htmlFor:"paid",children:"Paid"})]}),Object(p.jsxs)("div",{className:"invoice-status-bar__form-group",children:[Object(p.jsx)("input",{type:"radio",name:"status",value:"clear"}),Object(p.jsx)("label",{htmlFor:"clear",children:"Clear Filter"})]})]})})]}),Object(p.jsxs)("button",{onClick:function(){j(),m()},className:"invoice-status-bar__new-btn btn",children:[Object(p.jsx)("img",{className:"plus-icon",src:g,alt:""}),"New ",I?"Invoice":""]})]})},E=i(2),C=i(55),S=i(16),w=i(94),I=i(230),k=i(95),T=i(43),D=i(229),M=i.p+"static/media/icon-delete.55a4f6bd.svg",q=["animationTiming","removeTiming","register","index","control","remove","setValue","watch","errors","key"],F=function(e){var t=e.animationTiming,i=e.removeTiming,n=e.register,c=e.index,a=(e.control,e.remove),r=e.setValue,o=e.watch,l=e.errors,d=e.key,u=Object(k.a)(e,q),m=Object(s.useRef)(null),j=o("items.".concat(c,".price")),b=o("items.".concat(c,".quantity"));return Object(s.useEffect)((function(){if(j&&b)r("items.".concat(c,".total"),b*j);else{if(""!==j&&""!==b)return;r("items.".concat(c,".total"),null)}}),[j,b]),Object(s.createElement)(D.a,Object(E.a)(Object(E.a)({},u),{},{key:d,nodeRef:m,timeout:t,classNames:"slide-item",unmountOnExit:!0}),Object(p.jsxs)("div",{ref:m,className:"slide__form-list-item",children:[Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"item-name",children:"Item Name"}),Object(p.jsx)("input",Object(E.a)(Object(E.a)({className:"slide__form-list-item-description"},n("items.".concat(c,".description"))),{},{defaultValue:""})),Object(p.jsx)(T.a,{errors:l,name:"items.".concat(c,".description"),render:function(e){var t=e.message;return Object(p.jsx)("p",{className:"slide__form-group-item-error",children:t})}})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"item-quantity",children:"Qty."}),Object(p.jsx)("input",Object(E.a)(Object(E.a)({min:"1",step:"1",type:"number",className:"slide__form-list-item-quantity"},n("items.".concat(c,".quantity"))),{},{defaultValue:null})),Object(p.jsx)(T.a,{errors:l,name:"items.".concat(c,".quantity"),render:function(e){var t=e.message;return Object(p.jsx)("p",{className:"slide__form-group-item-error",children:t})}})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"item-price",children:"Price"}),Object(p.jsx)("input",Object(E.a)(Object(E.a)({type:"number",className:"slide__form-list-item-price"},n("items.".concat(c,".price"))),{},{defaultValue:null})),Object(p.jsx)(T.a,{errors:l,name:"items.".concat(c,".price"),render:function(e){var t=e.message;return Object(p.jsx)("p",{className:"slide__form-group-item-error",children:t})}})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"item-price",children:"Total"}),Object(p.jsx)("input",Object(E.a)(Object(E.a)({disabled:!0,type:"number"},n("items.".concat(c,".total"))),{},{defaultValue:null,className:"slide__form-list-item-total"}))]}),Object(p.jsx)("img",{onClick:function(){setTimeout((function(){a(c)}),i)},"data-index":c,className:"slide__form-list-item-icon",src:M,alt:""})]},d))},V=i(3),P=V.d().shape({isSave:V.b(),id:V.e(),createdAt:V.e().when("isSave",{is:!0,then:V.e().required("Date required")}),paymentDue:V.e(),description:V.e().when("isSave",{is:!0,then:V.e().required("Description required")}),paymentTerms:V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0).when("isSave",{is:!0,then:V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0).required("Payment terms required")}),clientName:V.e().when("isSave",{is:!0,then:V.e().required("Client name required")}),clientEmail:V.e().when("isSave",{is:!0,then:V.e().email("Email invalid").required("Email required")}),status:V.e(),senderAddress:V.d().shape({street:V.e().test("isSave","Street required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)})),city:V.e().test("isSave","City required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)})),postCode:V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).test("isSave","Post code required",(function(e,t){return!t.options.from[1].value.isSave||V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).required().isValidSync(e)})).test("len","Must be exactly 5 characters",(function(e){return e?5===(null===e||void 0===e?void 0:e.toString().length):V.c().transform((function(e){return isNaN(e)?null:e}))})),country:V.e().test("isSave","Country required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)}))}),clientAddress:V.d().shape({street:V.e().test("isSave","Street required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)})),city:V.e().test("isSave","City required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)})),postCode:V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).test("isSave","Post code required",(function(e,t){return!t.options.from[1].value.isSave||V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).required().isValidSync(e)})).test("len","Must be exactly 5 characters",(function(e){return e?5===(null===e||void 0===e?void 0:e.toString().length):V.c().transform((function(e){return isNaN(e)?null:e}))})),country:V.e().test("isSave","Country required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)}))}),items:V.a().of(V.d().shape({description:V.e().test("isSave","Name required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)})),quantity:V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).test("isSave","Quantity required",(function(e,t){return!t.options.from[1].value.isSave||V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).required().isValidSync(e)})),price:V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).test("isSave","Price required",(function(e,t){return!t.options.from[1].value.isSave||V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0).required().isValidSync(e)})),total:V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0)})).when("isSave",{is:!0,then:V.a().of(V.d().shape({description:V.e().test("isSave","Name required",(function(e,t){return!t.options.from[1].value.isSave||V.e().required().isValidSync(e)})),quantity:V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).test("isSave","Quantity required",(function(e,t){return!t.options.from[1].value.isSave||V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).required().isValidSync(e)})),price:V.c().positive("Must be a positive number").transform((function(e){return isNaN(e)?null:e})).nullable(!0).test("isSave","Price required",(function(e,t){return!t.options.from[1].value.isSave||V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0).required().isValidSync(e)})),total:V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0)})).test({message:"Add items to invoice",test:function(e){return e.length>0}})}),total:V.c().transform((function(e){return isNaN(e)?null:e})).nullable(!0)}),B=function(){var e,t,i,n,c,a,r,o,l,d,u,m,j,b,v,h,O,f,x,g,_,y,k=Object(s.useContext)(A),T=Object(s.useContext)(N),D=k.clearFilter,M=k.clearInvoice,q=k.createInvoice,V=k.edit,B=k.newInvoice,R=k.editInvoice,Q=k.invoice,L=T.slideClose,K=Object(S.e)({resolver:Object(w.a)(P),defaultValues:V?{id:Q.id,createdAt:Q.createdAt,paymentDue:Q.paymentDue,description:Q.description,paymentTerms:Q.paymentTerms,clientName:Q.clientName,clientEmail:Q.clientEmail,status:Q.status,senderAddress:{street:Q.senderAddress.street,city:Q.senderAddress.city,postCode:Q.senderAddress.postCode,country:Q.senderAddress.country},clientAddress:{street:Q.clientAddress.street,city:Q.clientAddress.city,postCode:Q.clientAddress.postCode,country:Q.clientAddress.country},total:Q.total}:{id:"",createdAt:"",paymentDue:"",description:"",paymentTerms:null,clientName:"",clientEmail:"",status:"",senderAddress:{street:"",city:"",postCode:null,country:""},clientAddress:{street:"",city:"",postCode:null,country:""},total:null}}),W=K.handleSubmit,U=K.control,Z=K.register,H=K.getValues,Y=K.setValue,G=K.watch,J=K.formState.errors,X=Object(S.d)({control:U,name:"items"}),z=X.fields,$=X.append,ee=X.remove;Object(s.useEffect)((function(){q&&Y("id",function(){for(var e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=[],s=0;s<2;s++){var n=t[Math.floor(Math.random()*t.length)];i.push(n)}for(var c=0;c<4;c++)i.push((e=10,Math.floor(Math.random()*e)));return i.join("")}()),V&&(Y("id",Q.id),Q.items.map((function(e){return $(e)})))}),[]);var te=function(e){Y("status",e.target.value),Y("paymentDue",function(){var e=H("createdAt"),t=H("paymentTerms"),i=C.DateTime.fromISO(e),s=C.DateTime.fromISO(i).plus({days:t}).toFormat("yyyy-MM-dd");return e&&t?s:""}()),Y("total",function(){var e,t=H("items"),i=[];return t.length&&(t.map((function(e){return i.push(e.total)})),e=i.reduce((function(e,t){return e+t}))),e}()),"draft"===e.target.value?Y("isSave",!1):Y("isSave",!0)},ie=function(){L(),M()};return Object(p.jsxs)("div",{className:"slide",children:[Object(p.jsx)("h2",{className:"slide__heading",children:q?"New Invoice":"Edit Invoice"}),Object(p.jsxs)("form",{onSubmit:W((function(e){V?R(e):B(e),L(),M(),D()})),className:"slide__form",children:[Object(p.jsx)("h3",{className:"slide__form-heading",children:"Bill From"}),Object(p.jsxs)("div",{className:"slide__form-group",children:[Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"street",children:"Street Address"}),Object(p.jsx)("input",Object(E.a)({},Z("senderAddress.street"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(e=J.senderAddress)||void 0===e||null===(t=e.street)||void 0===t?void 0:t.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"city",children:"City"}),Object(p.jsx)("input",Object(E.a)({},Z("senderAddress.city"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(i=J.senderAddress)||void 0===i||null===(n=i.city)||void 0===n?void 0:n.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"postCode",children:"Post Code"}),Object(p.jsx)("input",Object(E.a)({type:"number"},Z("senderAddress.postCode"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(c=J.senderAddress)||void 0===c||null===(a=c.postCode)||void 0===a?void 0:a.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"country",children:"Country"}),Object(p.jsx)("input",Object(E.a)({},Z("senderAddress.country"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(r=J.senderAddress)||void 0===r||null===(o=r.country)||void 0===o?void 0:o.message})]})]}),Object(p.jsx)("h3",{className:"slide__form-heading",children:"Bill To"}),Object(p.jsxs)("div",{className:"slide__form-group",children:[Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"clientName",children:"Client's Name"}),Object(p.jsx)("input",Object(E.a)({},Z("clientName"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(l=J.clientName)||void 0===l?void 0:l.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"clientEmail",children:"Client's Email"}),Object(p.jsx)("input",Object(E.a)({},Z("clientEmail"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(d=J.clientEmail)||void 0===d?void 0:d.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"street",children:"Street Address"}),Object(p.jsx)("input",Object(E.a)({},Z("clientAddress.street"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(u=J.clientAddress)||void 0===u||null===(m=u.street)||void 0===m?void 0:m.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"city",children:"City"}),Object(p.jsx)("input",Object(E.a)({},Z("clientAddress.city"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(j=J.clientAddress)||void 0===j||null===(b=j.city)||void 0===b?void 0:b.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"post",children:"Post Code"}),Object(p.jsx)("input",Object(E.a)({type:"number"},Z("clientAddress.postCode"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(v=J.clientAddress)||void 0===v||null===(h=v.postCode)||void 0===h?void 0:h.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"country",children:"Country"}),Object(p.jsx)("input",Object(E.a)({},Z("clientAddress.country"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(O=J.clientAddress)||void 0===O||null===(f=O.country)||void 0===f?void 0:f.message})]})]}),Object(p.jsxs)("div",{className:"slide__form-group",children:[Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"createdAt",children:"Invoice Date"}),Object(p.jsx)("input",Object(E.a)({type:"date"},Z("createdAt"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(x=J.createdAt)||void 0===x?void 0:x.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"paymentTerms",children:"Payment Terms"}),Object(p.jsxs)("select",Object(E.a)(Object(E.a)({},Z("paymentTerms")),{},{children:[Object(p.jsx)("option",{disabled:!0,children:"Select Terms"}),Object.values({a:1,b:7,c:14,d:30}).map((function(e){return Object(p.jsxs)("option",{value:e,children:["Next ",e," Days"]},e)}))]})),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(g=J.paymentTerms)||void 0===g?void 0:g.message})]}),Object(p.jsxs)("div",{className:"slide__form-group-item",children:[Object(p.jsx)("label",{htmlFor:"description",children:"Project Description"}),Object(p.jsx)("input",Object(E.a)({},Z("description"))),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(_=J.description)||void 0===_?void 0:_.message})]})]}),Object(p.jsx)("h2",{className:"slide__form-item-list-heading",children:"Item List"}),Object(p.jsx)("div",{className:"slide__form-list",children:Object(p.jsx)(I.a,{component:null,children:z.map((function(e,t){return Object(p.jsx)(F,{animationTiming:500,removeTiming:100,register:Z,errors:J,index:t,control:U,remove:ee,setValue:Y,watch:G},e.id)}))})}),Object(p.jsx)("button",{type:"button",onClick:function(e){return function(e){e.preventDefault(e),$({description:"",quantity:null,price:null,total:null})}(e)},className:"slide__form-list-new-btn btn",children:"+ Add New Item"}),Object(p.jsx)("p",{className:"slide__form-group-item-error",children:null===(y=J.items)||void 0===y?void 0:y.message}),Object(p.jsx)("div",{className:"slide__form-button-group",children:Object(p.jsxs)(s.Fragment,{children:[Object(p.jsx)("button",{type:"button",onClick:ie,className:"btn btn--white",children:"Discard"}),Object(p.jsx)("button",{value:"draft",type:"submit",onClick:function(e){return te(e)},className:"slide__form-btn-draft btn",children:"Save as Draft"}),Object(p.jsx)("button",{value:"pending",type:"submit",onClick:function(e){return te(e)},className:"slide__form-btn-send btn",children:"Save & Send"})]})})]})]})},R=function(){var e=Object(s.useContext)(A),t=Object(s.useContext)(N),i=e.invoice,n=e.deleteInvoice,c=t.closeDeletePrompt,a=i.id;return Object(p.jsxs)("div",{className:"delete-prompt",children:[Object(p.jsx)("h1",{className:"delete-prompt__heading",children:"Confirm Deletion"}),Object(p.jsx)("p",{className:"delete-prompt__body",children:"Are you sure you want to delete invoice #".concat(a,"? This action cannot\n        be undone.")}),Object(p.jsxs)("div",{className:"delete-prompt__button-group",children:[Object(p.jsx)("button",{onClick:c,className:"delete-prompt__btn-cancel btn btn--white",children:"Cancel"}),Object(p.jsx)("button",{onClick:function(){n(a),c()},className:"delete-prompt__btn-delete btn",children:"Delete"})]})]})},Q=function(){var e=Object(s.useContext)(N),t=e.openSlide,i=e.showDelete;return a.a.createPortal(t?Object(p.jsx)("div",{className:"modal",children:Object(p.jsx)(B,{})}):i?Object(p.jsx)("div",{className:"modal modal--prompt",children:Object(p.jsx)(R,{})}):"",document.getElementById("modal"))},L=function(e){var t=e.status;return Object(p.jsx)("span",{className:"status-badge status-badge--".concat(t),children:t})},K=function(){return Object(p.jsxs)("div",{className:"loading",children:["Loading",Object(p.jsx)("span",{children:"."}),Object(p.jsx)("span",{children:"."}),Object(p.jsx)("span",{children:"."})]})},W=i.p+"static/media/icon-arrow-right.9e19be64.svg",U=function(){var e=Object(s.useContext)(_),t=Object(s.useContext)(A),i=Object(s.useContext)(N),n=e.errorEmptyNewInvoice,c=e.errorEmptyClear,a=e.displayError,r=e.heading,o=e.message,l=t.filtered,d=t.getInvoices,u=t.invoices,m=t.loading,j=i.openModal;if(Object(s.useEffect)((function(){d()}),[]),Object(s.useEffect)((function(){u.length?c():n()}),[u]),m)return Object(p.jsx)(K,{});return Object(p.jsxs)(s.Fragment,{children:[j?Object(p.jsx)(Q,{}):"",Object(p.jsxs)("div",{className:"invoices-container",children:[Object(p.jsx)(y,{}),a?Object(p.jsx)(f,{heading:r,message:o}):Object(p.jsx)("div",{className:"invoices",children:0!==l.length?l.map((function(e){var t=e.id,i=e.createdAt,s=e.clientName,n=e.total,c=e.status;return Object(p.jsx)(h.a,{to:"/invoices/".concat(t),children:Object(p.jsxs)("div",{className:"invoices__invoice",id:t,children:[Object(p.jsxs)("span",{className:"invoices__invoice-id",children:["#",t]}),Object(p.jsx)("span",{className:"invoices__invoice-date",children:i}),Object(p.jsx)("span",{className:"invoices__invoice-name",children:s}),Object(p.jsxs)("span",{className:"invoices__invoice-total",children:["$",n]}),Object(p.jsx)(L,{status:c}),Object(p.jsx)("img",{className:"invoices__invoice-arrow",src:W,alt:"arrow-right"})]})},t)})):u.map((function(e){var t=e.id,i=e.createdAt,s=e.clientName,n=e.total,c=e.status;return Object(p.jsx)(h.a,{to:"/invoices/".concat(t),children:Object(p.jsxs)("div",{className:"invoices__invoice",id:t,children:[Object(p.jsxs)("span",{className:"invoices__invoice-id",children:["#",t]}),Object(p.jsx)("span",{className:"invoices__invoice-date",children:i}),Object(p.jsx)("span",{className:"invoices__invoice-name",children:s}),Object(p.jsxs)("span",{className:"invoices__invoice-total",children:["$",n]}),Object(p.jsx)(L,{status:c}),Object(p.jsx)("img",{className:"invoices__invoice-arrow",src:W,alt:"arrow-right"})]})},t)}))})]})]})},Z=function(){var e=Object(s.useContext)(A).invoice,t=Object(s.useState)(window.innerWidth>600),i=Object(u.a)(t,2),n=i[0],c=i[1],a=function(){c(window.innerWidth>600)};Object(s.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[]);return Object(p.jsxs)("div",{className:"invoice-total-container",children:[Object(p.jsxs)("div",{className:"invoice-total",children:[n?Object(p.jsxs)("div",{className:"invoice-total__headers",children:[Object(p.jsx)("h4",{className:"invoice-total__headers-name",children:"Item Name"}),Object(p.jsx)("h4",{className:"invoice-total__headers-qty",children:"QTY."}),Object(p.jsx)("h4",{className:"invoice-total__headers-price",children:"Price"}),Object(p.jsx)("h4",{className:"invoice-total__headers-total",children:"Total"})]}):"",n?function(){if(e.hasOwnProperty("items"))return e.items.map((function(e,t){return Object(p.jsxs)("div",{className:"invoice-total__invoice",children:[Object(p.jsx)("span",{className:"invoice-total__invoice-name",children:e.description}),Object(p.jsx)("span",{className:"invoice-total__invoice-qty",children:e.quantity}),Object(p.jsxs)("span",{className:"invoice-total__invoice-price",children:["$ ",e.price]}),Object(p.jsxs)("span",{className:"invoice-total__invoice-total",children:["$ ",e.total]})]},t)}))}():function(){if(e.hasOwnProperty("items"))return e.items.map((function(e,t){return Object(p.jsxs)("div",{className:"invoice-total__invoice",children:[Object(p.jsx)("span",{className:"invoice-total__invoice-name",children:e.description}),Object(p.jsxs)("span",{className:"invoice-total__invoice-qty",children:[e.quantity," x $ ",e.price]}),Object(p.jsxs)("span",{className:"invoice-total__invoice-total",children:["$ ",e.total]})]},t)}))}()]}),function(){if(e.hasOwnProperty("items"))return Object(p.jsxs)("div",{className:"amount-due",children:[Object(p.jsx)("h2",{children:"Amount Due"})," ",Object(p.jsxs)("span",{children:["$ ",e.total]})]})}()]})},H=function(){var e=Object(s.useContext)(A),t=Object(s.useContext)(N),i=e.errorMsg,n=e.invoice,c=e.setEdit,a=e.editInvoice,r=t.slideOpen,o=t.openDeletePrompt,l=function(e){a(n.id,n,e)};return i?Object(p.jsx)("div",{}):Object(p.jsxs)("div",{className:"status-edit-bar",children:[Object(p.jsxs)("div",{className:"status-edit-bar__status",children:[Object(p.jsx)("h3",{children:"Status"}),Object(p.jsx)(L,{status:n.status})]}),Object(p.jsxs)("div",{className:"status-edit-bar__btn-group",children:[Object(p.jsx)("button",{onClick:function(){c(),r()},className:"btn btn--white",children:"Edit"}),Object(p.jsx)("button",{onClick:o,className:"btn btn--red",children:"Delete"}),"paid"===n.status?Object(p.jsx)("button",{onClick:function(){return l("pending")},className:"btn btn--purple",children:"Mark pending"}):Object(p.jsx)("button",{onClick:function(){return l("paid")},className:"btn btn--purple",children:"Mark as paid"})]})]})},Y=i.p+"static/media/icon-arrow-left.e9bb7637.svg",G=function(e){var t=e.match,i=Object(s.useContext)(A),n=Object(s.useContext)(N),c=i.errorMsg,a=i.getInvoice,r=i.invoice,o=i.loading,l=n.openModal;if(Object(s.useEffect)((function(){var e=t.params.id;a(e)}),[]),o)return Object(p.jsx)(K,{});var d=function(e){if(e){var t=e.split("@");return Object(p.jsxs)("p",{children:[t[0],"\u200b","@"+t[1]]})}},u=function(){if(null===r||void 0===r?void 0:r.clientAddress)return Object(p.jsxs)("div",{className:"invoice-details",children:[Object(p.jsxs)("div",{className:"invoice-details__description flex-col",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{children:"#"}),r.id]}),Object(p.jsx)("h3",{className:"invoice-details__heading",children:r.description})]}),Object(p.jsxs)("div",{className:"invoice-details__invoice-date flex-col",children:[Object(p.jsx)("h3",{className:"invoice-details__heading",children:"Invoice Date"}),Object(p.jsx)("p",{children:r.createdAt})]}),Object(p.jsxs)("div",{className:"invoice-details__due-date flex-col",children:[Object(p.jsx)("h3",{className:"invoice-details__heading",children:"Payment Due"}),Object(p.jsx)("p",{children:r.paymentDue})]}),Object(p.jsxs)("div",{className:"invoice-details__client flex-col",children:[Object(p.jsx)("h3",{className:"invoice-details__heading",children:"Bill To"}),Object(p.jsx)("p",{className:"invoice-details__client-name",children:r.clientName}),Object(p.jsx)("p",{className:"invoice-details__client-address",children:r.clientAddress.street}),Object(p.jsx)("p",{className:"invoice-details__client-address",children:r.clientAddress.city}),Object(p.jsx)("p",{className:"invoice-details__client-address",children:r.clientAddress.postCode}),Object(p.jsx)("p",{className:"invoice-details__client-address",children:r.clientAddress.country})]}),Object(p.jsxs)("div",{className:"invoice-details__email flex-col",children:[Object(p.jsx)("h3",{className:"invoice-details__heading",children:"Sent to"}),d(r.clientEmail)]}),Object(p.jsxs)("div",{className:"invoice-details__sender flex-col",children:[Object(p.jsx)("p",{children:r.senderAddress.street}),Object(p.jsx)("p",{children:r.senderAddress.city}),Object(p.jsx)("p",{children:r.senderAddress.postCode}),Object(p.jsx)("p",{children:r.senderAddress.country})]})]})};return Object(p.jsxs)(s.Fragment,{children:[l?Object(p.jsx)(Q,{}):"",Object(p.jsxs)("div",{className:"invoice-container",children:[Object(p.jsxs)(h.a,{to:"/",className:"back-btn",children:[Object(p.jsx)("img",{src:Y,alt:"Back"})," Go back"]}),c?Object(p.jsx)(f,{heading:"Oops!",message:"Invoice not found"}):Object(p.jsxs)(s.Fragment,{children:[Object(p.jsx)(H,{}),Object(p.jsxs)("div",{className:"invoice",children:[u(),Object(p.jsx)(Z,{})]})]})]})]})},J=function(){return Object(p.jsxs)("div",{className:"invoice-container",children:[Object(p.jsxs)(h.a,{to:"/",className:"back-btn",children:[Object(p.jsx)("img",{src:Y,alt:"Back"})," Go back"]}),Object(p.jsx)(f,{heading:"Page Not Found",message:"This page cannot be found"})]})},X="FETCH_INVOICES",z="FETCH_INVOICE",$="CLEAR_FILTER",ee="FILTER_STATUS",te="SET_LOADING",ie="SLIDE_OPEN",se="SLIDE_CLOSE",ne="OPEN_DELETE_PROMPT",ce="CLOSE_DELETE_PROMPT",ae="type: SET_NEW",re="SET_EDIT",oe="NEW_INVOICE",le="EDIT_INVOICE",de="DELETE_INVOICE",ue="CLEAR_INVOICE",me="INVOICE_ERROR",je="EMPTY_NEW",be="EMPTY_FILTERED",pe="EMPTY_CLEAR",ve=function(e,t){switch(t.type){case je:case be:return Object(E.a)(Object(E.a)({},e),{},{displayError:!0,heading:t.payload.heading,message:t.payload.message});case pe:return Object(E.a)(Object(E.a)({},e),{},{displayError:!1,heading:null,message:null});default:return e}},he=function(e){var t=Object(s.useReducer)(ve,{displayError:!1,heading:null,message:null}),i=Object(u.a)(t,2),n=i[0],c=i[1];return Object(p.jsx)(_.Provider,{value:{displayError:n.displayError,heading:n.heading,message:n.message,errorEmptyNewInvoice:function(){c({type:je,payload:{heading:"There is nothing here",message:"Create an invoice by clicking the New Invoice button and get started"}})},errorEmptyFiltered:function(){c({type:be,payload:{heading:"There is nothing here",message:"No invoices matching that status exist"}})},errorEmptyClear:function(){c({type:pe})}},children:e.children})},Oe=i(4),fe=i.n(Oe),xe=i(10),ge=i(28),_e=i.n(ge),Ae=i(5),Ne=function(e,t){switch(t.type){case X:return Object(E.a)(Object(E.a)({},e),{},{invoices:t.payload,invoice:{},errorMsg:null,loading:!1});case z:return Object(E.a)(Object(E.a)({},e),{},{invoice:t.payload,errorMsg:null,loading:!1});case oe:return Object(E.a)(Object(E.a)({},e),{},{invoices:[].concat(Object(Ae.a)(e.invoices),[t.payload]),errorMsg:null,loading:!1});case le:var i=e.invoices.filter((function(e){return e.id!==t.payload.id})),s=[].concat(Object(Ae.a)(i),[t.payload]);return Object(E.a)(Object(E.a)({},e),{},{invoices:s,invoice:t.payload,loading:!1});case de:var n=e.invoices.filter((function(e){return e.id!==t.payload.id}));return Object(E.a)(Object(E.a)({},e),{},{invoices:n,invoice:{},filtered:[],loading:!1});case $:return Object(E.a)(Object(E.a)({},e),{},{filtered:[]});case ee:return Object(E.a)(Object(E.a)({},e),{},{filtered:t.payload,loading:!1});case ae:return Object(E.a)(Object(E.a)({},e),{},{createInvoice:t.payload});case re:return Object(E.a)(Object(E.a)({},e),{},{edit:t.payload});case ue:return Object(E.a)(Object(E.a)({},e),{},{createInvoice:t.payload,edit:t.payload});case te:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case me:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,errorMsg:t.payload});default:return e}};i(223).config();var ye=function(e){var t=Object(s.useReducer)(Ne,{errorMsg:null,createInvoice:!1,edit:!1,filtered:[],invoices:[],invoice:{},loading:!1}),i=Object(u.a)(t,2),n=i[0],c=i[1],a=function(){return c({type:te})},r=function(){var e=Object(xe.a)(fe.a.mark((function e(){var t;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,_e.a.get("/api/invoices");case 4:t=e.sent,c({type:X,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:me,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var i;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,_e.a.get("/api/invoices/".concat(t));case 4:i=e.sent,c({type:z,payload:i.data[0]}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),c({type:me,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var i;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.next=3,n.invoices.filter((function(e){return e.status===t}));case 3:i=e.sent,c({type:ee,payload:i});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var i,s;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),i={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,_e.a.post("api/invoices/",t,i);case 5:s=e.sent,c({type:oe,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({type:me,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var i,s;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),i={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,_e.a.put("/api/invoices/".concat(t.id),t,i);case 5:s=e.sent,c({type:le,payload:s.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({type:me,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(xe.a)(fe.a.mark((function e(t){var i;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(),e.prev=1,e.next=4,_e.a.delete("/api/invoices/".concat(t));case 4:i=e.sent,c({type:de,payload:i.data}),l.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c({type:me,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(A.Provider,{value:{errorMsg:n.errorMsg,createInvoice:n.createInvoice,edit:n.edit,filtered:n.filtered,invoices:n.invoices,invoice:n.invoice,loading:n.loading,clearFilter:function(){c({type:$})},filterStatus:d,getInvoices:r,getInvoice:o,setNew:function(){c({type:ae,payload:!0})},setEdit:function(){c({type:re,payload:!0})},clearInvoice:function(){c({type:ue,payload:!1})},newInvoice:m,editInvoice:j,deleteInvoice:b},children:e.children})},Ee=function(e,t){switch(t.type){case ie:case se:return Object(E.a)(Object(E.a)({},e),{},{openModal:t.payload,openSlide:t.payload});case ne:case ce:return Object(E.a)(Object(E.a)({},e),{},{openModal:t.payload,showDelete:t.payload});default:return e}},Ce=function(e){var t=Object(s.useReducer)(Ee,{openModal:!1,openSlide:!1,showDelete:!1}),i=Object(u.a)(t,2),n=i[0],c=i[1];return Object(p.jsx)(N.Provider,{value:{openModal:n.openModal,openSlide:n.openSlide,showDelete:n.showDelete,slideOpen:function(){c({type:ie,payload:!0})},slideClose:function(){c({type:se,payload:!1})},openDeletePrompt:function(){c({type:ne,payload:!0})},closeDeletePrompt:function(){c({type:ce,payload:!1})}},children:e.children})},Se=(i(227),function(){return Object(s.useEffect)((function(){Object(d.keepTheme)()}),[]),Object(p.jsx)(he,{children:Object(p.jsx)(ye,{children:Object(p.jsx)(Ce,{children:Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)(v,{}),Object(p.jsx)(r.b,{history:l,children:Object(p.jsxs)(r.c,{children:[Object(p.jsx)(r.a,{exact:!0,path:"/",component:U}),Object(p.jsx)(r.a,{exact:!0,path:"/invoices/:id",component:G}),Object(p.jsx)(r.a,{path:"",component:J})]})})]})})})})});a.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(Se,{})}),document.getElementById("root"))},32:function(e,t){function i(e){localStorage.setItem("theme",e),document.documentElement.className=e}e.exports={setTheme:i,keepTheme:function(){localStorage.getItem("theme")?"theme-dark"===localStorage.getItem("theme")?i("theme-dark"):"theme-light"===localStorage.getItem("theme")&&i("theme-light"):i("theme-dark")}}}},[[228,1,2]]]);
//# sourceMappingURL=main.716c9991.chunk.js.map